<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Interactive component | Movie Analysis</title>
  <meta name="description" content="Chapter 6 Interactive component | Movie Analysis" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Interactive component | Movie Analysis" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Interactive component | Movie Analysis" />
  
  
  

<meta name="author" content="Haoyue Wang" />


<meta name="date" content="2022-05-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">MovieAnalysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction<span></span></a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#describe-the-data"><i class="fa fa-check"></i><b>2.1</b> Describe the data:<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#basic-information"><i class="fa fa-check"></i><b>2.2</b> Basic information:<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#problems-with-the-data"><i class="fa fa-check"></i><b>2.3</b> Problems with the data:<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#combining-rating-data-from-imdbdatasets"><i class="fa fa-check"></i><b>3.1</b> combining rating data from imdbdatasets<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#cleaning-boxoffice-data"><i class="fa fa-check"></i><b>3.2</b> Cleaning boxoffice data<span></span></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-transformation.html"><a href="data-transformation.html#cleaning-top800-boxoffice-data"><i class="fa fa-check"></i><b>3.2.1</b> Cleaning Top800 Boxoffice data<span></span></a></li>
<li class="chapter" data-level="3.2.2" data-path="data-transformation.html"><a href="data-transformation.html#cleaning-nearby-5-years-boxoffice-data"><i class="fa fa-check"></i><b>3.2.2</b> Cleaning nearby 5 years Boxoffice data<span></span></a></li>
<li class="chapter" data-level="3.2.3" data-path="data-transformation.html"><a href="data-transformation.html#getting-the-yearly-boxoffice-data."><i class="fa fa-check"></i><b>3.2.3</b> Getting the yearly Boxoffice data.<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#missing-values-for-movie-basic-datatitlename-runtime-genres-and-rating"><i class="fa fa-check"></i><b>4.1</b> Missing values for movie basic data(titlename, runtime, genres and rating)<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#missing-plot-for-box-office-data"><i class="fa fa-check"></i><b>4.2</b> Missing plot for Box office data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#library"><i class="fa fa-check"></i><b>5.1</b> library<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#read-data"><i class="fa fa-check"></i><b>5.2</b> Read data<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#relationship-between"><i class="fa fa-check"></i><b>5.3</b> Relationship between<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="interactive-component.html"><a href="interactive-component.html#top10-rating-movie-information-in-2019-and-2020"><i class="fa fa-check"></i><b>6.1</b> Top10 rating movie information in 2019 and 2020<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Movie Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interactive-component" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Chapter 6</span> Interactive component<a href="interactive-component.html#interactive-component" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="top10-rating-movie-information-in-2019-and-2020" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Top10 rating movie information in 2019 and 2020<a href="interactive-component.html#top10-rating-movie-information-in-2019-and-2020" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<h3>
Top10 Rating Movie in 2019, 2020
</h3>
<p><input type="radio" name="year" value="2019" checked="true">2019
<input type="radio" name="year" value="2020">2020</p>
<svg width="800" height="300"><rect x="0" y="0" width="800" height="300" fill="aliceblue"></rect><text id="xlabel" text-anchor="end" x="481.6666666666667" y="280">averageRating</text><g fill="none" font-size="10" font-family="sans-serif" text-anchor="middle" class="xAxis" transform="translate (215, 250)"><path class="domain" stroke="currentColor" d="M0,6V0H435V6"></path><g class="tick" opacity="1" transform="translate(21.749999999999922,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">7.6</text></g><g class="tick" opacity="1" transform="translate(65.24999999999996,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">7.8</text></g><g class="tick" opacity="1" transform="translate(108.75,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">8.0</text></g><g class="tick" opacity="1" transform="translate(152.24999999999986,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">8.2</text></g><g class="tick" opacity="1" transform="translate(195.75000000000009,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">8.4</text></g><g class="tick" opacity="1" transform="translate(239.24999999999991,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">8.6</text></g><g class="tick" opacity="1" transform="translate(282.75000000000017,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">8.8</text></g><g class="tick" opacity="1" transform="translate(326.25,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">9.0</text></g><g class="tick" opacity="1" transform="translate(369.74999999999983,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">9.2</text></g><g class="tick" opacity="1" transform="translate(413.25000000000006,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">9.4</text></g></g><g class="yAxis" transform="translate (215, 25)" fill="none" font-size="10" font-family="sans-serif" text-anchor="end"><path class="domain" stroke="currentColor" d="M-6,10H0V225H-6"></path><g class="tick" opacity="1" transform="translate(0,20.75)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Parasite</text></g><g class="tick" opacity="1" transform="translate(0,42.25)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Joker</text></g><g class="tick" opacity="1" transform="translate(0,63.75)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Avengers: Endgame</text></g><g class="tick" opacity="1" transform="translate(0,85.25)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Uri: The Surgical Strike</text></g><g class="tick" opacity="1" transform="translate(0,106.75)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">1917</text></g><g class="tick" opacity="1" transform="translate(0,128.25)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Klaus</text></g><g class="tick" opacity="1" transform="translate(0,149.75)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Ford v Ferrari</text></g><g class="tick" opacity="1" transform="translate(0,171.25)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Portrait of a Lady on Fire</text></g><g class="tick" opacity="1" transform="translate(0,192.75)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Knives Out</text></g><g class="tick" opacity="1" transform="translate(0,214.25)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Jojo Rabbit</text></g></g><g id="plot" transform="translate (215, 25)"><line x1="0" y1="20" x2="435" y2="20" stroke="lightgrey"></line><line x1="0" y1="41.5" x2="435" y2="41.5" stroke="lightgrey"></line><line x1="0" y1="63" x2="435" y2="63" stroke="lightgrey"></line><line x1="0" y1="84.5" x2="435" y2="84.5" stroke="lightgrey"></line><line x1="0" y1="106" x2="435" y2="106" stroke="lightgrey"></line><line x1="0" y1="127.5" x2="435" y2="127.5" stroke="lightgrey"></line><line x1="0" y1="149" x2="435" y2="149" stroke="lightgrey"></line><line x1="0" y1="170.5" x2="435" y2="170.5" stroke="lightgrey"></line><line x1="0" y1="192" x2="435" y2="192" stroke="lightgrey"></line><line x1="0" y1="213.5" x2="435" y2="213.5" stroke="lightgrey"></line><circle cx="217.5" cy="20" r="3" fill="black"></circle><circle cx="195.75000000000009" cy="41.5" r="3" fill="black"></circle><circle cx="195.75000000000009" cy="63" r="3" fill="black"></circle><circle cx="195.75000000000009" cy="84.5" r="3" fill="black"></circle><circle cx="174.00000000000014" cy="106" r="3" fill="black"></circle><circle cx="152.24999999999986" cy="127.5" r="3" fill="black"></circle><circle cx="130.49999999999991" cy="149" r="3" fill="black"></circle><circle cx="130.49999999999991" cy="170.5" r="3" fill="black"></circle><circle cx="87.00000000000007" cy="192" r="3" fill="black"></circle><circle cx="87.00000000000007" cy="213.5" r="3" fill="black"></circle></g></svg>
<div style="padding: 10px;">

<script type="text/javascript">
  
      //Width and height
      var w = 800;
      var h = 300;
      var margin = {top: 25, right: 150, bottom: 50, left: 215};
      var innerHeight = h - margin.top - margin.bottom;
      var innerWidth = w - margin.left - margin.right;

      var dataset2019 = [{
        "name": "Parasite",
        "runtimeMinutes": 132,
        "g1": "Comedy",
        "averageRating": 8.5,
        "numVotes": 730822,
        "boxoffice": "$258,632,621"
        },
        {
       "name": "Joker",
        "runtimeMinutes": 122,
        "g1": "Crime",
        "averageRating": 8.4,
        "numVotes": 1170784,
        "boxoffice": "$1,074,251,311"
        },
        {
        "name": "Avengers: Endgame",
        "runtimeMinutes": 181,
        "g1": "Action",
        "averageRating": 8.4,
        "numVotes": 1033089,
        "boxoffice": "$2,797,501,328"
        },
        {
        "name": "Uri: The Surgical Strike",
        "runtimeMinutes": 138,
        "g1": "Action",
        "averageRating": 8.4,
        "numVotes": 57785,
        "boxoffice": "$39,346,577"
        },
        {
        "name": "1917",
        "runtimeMinutes": 119,
        "g1": "Action",
        "averageRating": 8.3,
        "numVotes": 541457,
        "boxoffice": "$384,919,389"
        },
        {
        "name": "Klaus",
        "runtimeMinutes": 96,
        "g1": "Adventure",
        "averageRating": 8.2,
        "numVotes": 140162,
        "boxoffice": "NA"
        },
        {
        "name": "Ford v Ferrari",
        "runtimeMinutes": 152,
        "g1": "Biography",
        "averageRating": 8.1,
        "numVotes": 361169,
        "boxoffice": "$225,508,210"
        },
        {
        "name": "Portrait of a Lady on Fire",
        "runtimeMinutes": 122,
        "g1": "Drama",
        "averageRating": 8.1,
        "numVotes": 84712,
        "boxoffice": "$10,106,374"
        },
        {
        "name": "Knives Out",
        "runtimeMinutes": 130,
        "g1": "Comedy",
        "averageRating": 7.9,
        "numVotes": 582399,
        "boxoffice": "$311,605,581"
        },
        {
        "name": "Jojo Rabbit",
        "runtimeMinutes": 108,
        "g1": "Comedy",
        "averageRating": 7.9,
        "numVotes": 363411,
        "boxoffice": "$90,335,025"
        }
        ];
        
     var dataset2020 = [{
        "name": "Soorarai Pottru",
        "runtimeMinutes": 153,
        "g1": "Drama",
        "averageRating": 9.3,
        "numVotes": 109058,
        "boxoffice": "NA"
        },
        {
       "name": "Dara of Jasenovac",
        "runtimeMinutes": 130,
        "g1": "Drama",
        "averageRating": 8.8,
        "numVotes": 80545,
        "boxoffice": "$52,786"
        },
        {
        "name": "Hamilton",
        "runtimeMinutes": 160,
        "g1": "Biography",
        "averageRating": 8.4,
        "numVotes": 85090,
        "boxoffice": "NA"
        },
        {
        "name": "The Father",
        "runtimeMinutes": 97,
        "g1": "Drama",
        "averageRating": 8.3,
        "numVotes": 130262,
        "boxoffice": "$24,340,915"
        },
        {
        "name": "Demon Slayer the Movie: Mugen Train",
        "runtimeMinutes": 117,
        "g1": "Action",
        "averageRating": 8.3,
        "numVotes": 50833,
        "boxoffice": "$453,349,245"
        },
        {
        "name": "Soul",
        "runtimeMinutes": 100,
        "g1": "Adventure",
        "averageRating": 8.1,
        "numVotes": 304794,
        "boxoffice": "$120,957,731"
        },
        {
        "name": "Dil Bechara",
        "runtimeMinutes": 101,
        "g1": "Comedy",
        "averageRating": 8.1,
        "numVotes": 128032,
        "boxoffice": "$45,171"
        },
        {
        "name": "My Octopus Teacher",
        "runtimeMinutes": 85,
        "g1": "Documentary",
        "averageRating": 8.1,
        "numVotes": 50644,
        "boxoffice": "NA"
        },
        {
        "name": "The Trial of the Chicago 7",
        "runtimeMinutes": 129,
        "g1": "Drama",
        "averageRating": 7.8,
        "numVotes": 169367,
        "boxoffice": "$115,709"
        },
        {
        "name": "Another Round",
        "runtimeMinutes": 117,
        "g1": "Comedy",
        "averageRating": 7.7,
        "numVotes": 139127,
        "boxoffice": "$12,733,781"
        }
        ];
        
         
function update(data) {

       var yScale = d3.scaleBand()
      .domain(data.map(d => d.name))
      .range([10,innerHeight])
      
        
       var  yAxis = d3.axisLeft()
         .scale(yScale);
        
        svg.select(".yAxis")
           .transition()
           .duration(3000)
           .call(yAxis);
           
        d3.select("#plot")
        .selectAll("circle")
        .data(data)
        .transition()
        .duration(3000)
        .attr("cx", d => xScale(d.averageRating))
         
  }
         
 var action = "2019";
      d3.select("div")
      .selectAll("input")
      .on("click", function(event) { 
        action = d3.select(this).node().value;
        if (action == "2019") {
        datanew=dataset2019;
        update(datanew);
       
      } else {
        datanew=dataset2020;
        update(datanew);
        
      }
      });


      
   var cir = svg.selectAll("circle").data(dataset2019)
      cir.on("mouseover",function(event,d){
        var pt = d3.pointer(event)
        svg.append("text")
        .attr("id","tooltip")
        .attr("x",pt[0]+margin.left+7)
        .attr("y",pt[1]+margin.top+5)
        .text("voters: "+d.numVotes +"\n"+"Boxoffice:"+d.boxoffice)
        
      }
      ).on("mouseout",function(){
        svg.select("#tooltip").remove()

      })
      
    
 
    </script>
<div style="padding: 10px;">
<a href="https://www.imdb.com/interfaces/">Data source: https://www.imdb.com/interfaces/</a>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/kingwmoon/Movie/edit/main/06-interactive.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/kingwmoon/Movie/blob/main/06-interactive.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
